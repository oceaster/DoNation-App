(this.webpackJsonpdonation=this.webpackJsonpdonation||[]).push([[0],[,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),o=n(1),l=n.n(o),d=(n(9),n(10),window.location.href.startsWith("http://localhost:")?"http://localhost:8000/":window.location.href),r=n.p+"static/media/co2.51a3ac8e.svg",s=n.p+"static/media/water.b5058ba4.svg",a=n.p+"static/media/waste.fbcb3155.svg",j=n(0),h=function(){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"saved-total-section",children:[Object(j.jsx)("img",{alt:"co2",src:r}),Object(j.jsx)("h4",{children:" Total CO\u2082 Saved "})]}),Object(j.jsx)("h2",{id:"co2-saved-total",className:"saved-total",children:" -- "}),Object(j.jsxs)("div",{className:"saved-total-section",children:[Object(j.jsx)("img",{alt:"water",src:s}),Object(j.jsx)("h4",{children:" Total Water Saved "})]}),Object(j.jsx)("h2",{className:"saved-total",children:" -- "}),Object(j.jsxs)("div",{className:"saved-total-section",children:[Object(j.jsx)("img",{alt:"waste",src:a}),Object(j.jsx)("h4",{children:" Total Waste Saved "})]}),Object(j.jsx)("h2",{className:"saved-total",children:" -- "}),void fetch("".concat(d,"api/total/co2")).then((function(e){e.json().then((function(e){document.getElementById("co2-saved-total").innerText=e.save_co2__sum+"kg"}))}))]})},u=(n(12),n(13),function(e,t,n,c){return"<div\n        id=".concat(e,"\n        class='pledge-entry'\n    >\n        <p> ").concat(t," </p>\n        <h4> Saving ").concat(n,"kg of CO2 </h4>\n        <h6> ").concat(c," </h6>\n    </div>")}),p=function(){fetch("".concat(d,"api/fetch/0")).then((function(e){e.json().then((function(e){if("data"in e){var t=e.data,n=document.getElementById("my_pledges");for(var c in t)console.log(t[c]),n.innerHTML+=u(t[c].id,t[c].pledge,t[c].co2,t[c].timestamp.split("T")[0])}}))}))},b=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{id:"my_pledges",children:p()})})},m=(n(14),n(4),n(15),function(e,t){return Object(j.jsx)("button",{id:"commit-button",onClick:function(){e()&&(t(),T(),p())},children:" Commit Pledge "})}),g=function(){var e=document.getElementById("my-energy-supplier"),t=e.options[e.selectedIndex].text,n=document.getElementById("people-in-house").value,c=document.getElementById("my-heating-type"),i=c.options[c.selectedIndex].text,o=encodeURIComponent("Within the next two months,\nI pledge to switch from my current energy supplier \u2013 which is ".concat(t," \u2013 to a green energy supplier.\n").concat(n," people live in our home.\nMy house is mainly heated by ").concat(i,"."));fetch("".concat(d,"api/post/0/").concat(o,"/").concat(O()))},v=function(){return"none"===document.getElementById("my-energy-supplier").value?(alert("select your energy supplier"),!1):""===document.getElementById("people-in-house").value?(alert("input the number of people in your home"),!1):"none"!==document.getElementById("my-heating-type").value||(alert("select your main source of heating"),!1)},x=function(){document.getElementById("co2-saved").innerText=O()+"kg"},O=function(){var e=document.getElementById("my-energy-supplier").value;if("none"===e)return"--";var t=document.getElementById("people-in-house").value;if(""===t)return"--";var n=document.getElementById("my-heating-type").value;return"none"===n?"--":49*n*t*e},y={pledge_energy:function(){return Object(j.jsxs)("div",{id:"pledge_energy",children:[Object(j.jsxs)("p",{id:"pledge_energy_text",children:["Within the next two months, I pledge to switch from my current energy supplier \u2013 which is",Object(j.jsxs)("select",{id:"my-energy-supplier",defaultValue:"none",onClick:x,children:[Object(j.jsx)("option",{value:"none",disabled:!0,children:" --- "}),Object(j.jsx)("option",{value:"0.5",children:" Bog Standard "}),Object(j.jsx)("option",{value:"0",children:" Great Green "}),Object(j.jsx)("option",{value:"1",children:" Other "})]}),"\u2013 to a green energy supplier.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{id:"people-in-house",type:"number",placeholder:"4",min:"1",onBlur:x}),"people live in our home.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"My house is mainly heated by",Object(j.jsxs)("select",{id:"my-heating-type",defaultValue:"none",onClick:x,children:[Object(j.jsx)("option",{value:"none",disabled:!0,children:" --- "}),Object(j.jsx)("option",{value:"3",children:" Electric "}),Object(j.jsx)("option",{value:"5",children:" Gas "}),Object(j.jsx)("option",{value:"5",children:" Oil "})]}),"."]}),m(v,g)]})},pledge_diet:function(){return Object(j.jsx)("div",{id:"pledge_diet",children:"diet pledge"})}},f=function(){var e=document.getElementById("pledge-select"),t=document.getElementById("my-pledges");"none"!==e.value&&Object(o.render)(y[e.value](),t)},_=function(e){var t="pledge_"+e.replace(/ /g,"_");return Object(j.jsx)("option",{value:t,children:e})},w=function(){return Object(j.jsxs)("div",{id:"pledge-section",children:[Object(j.jsx)("h2",{children:" Make Pledge "}),Object(j.jsxs)("select",{id:"pledge-select",style:{width:"100%"},onClick:f,defaultValue:"none",children:[Object(j.jsx)("option",{value:"none",disabled:!0,children:" --- select --- "}),_("energy")]}),Object(j.jsx)("div",{id:"my-pledges"})]})},I=(n(16),function(){return Object(j.jsxs)("div",{id:"pledge-results",children:[Object(j.jsx)("h2",{children:" Saves "}),Object(j.jsx)("div",{id:"pledge-saves",children:(e="--kg",Object(j.jsxs)("div",{style:{display:"flex"},children:[Object(j.jsx)("h2",{id:"co2-saved",style:{color:"peru"},children:e}),Object(j.jsx)("h3",{children:"\xa0 of CO\u2082"})]}))}),Object(j.jsx)("h2",{children:" Impacts "}),Object(j.jsx)("div",{id:"pledge-impacts",children:Object(j.jsx)("img",{alt:"co2",src:r,width:"48px",height:"48px"})})]});var e}),B=["navbar_home","navbar_make_pledge","navbar_view_profile"],k=function(e){var t=document.getElementById(e);for(var n in B){var c=document.getElementById(B[n]);c.style.color="darkgrey",c.style.borderBottom="1px solid lightgrey"}t.style.color="black",t.style.borderBottom="1px solid black"},E=function(){k("navbar_home"),Object(o.render)(Object(j.jsx)(h,{}),document.getElementById("app"))},C=function(){k("navbar_make_pledge"),Object(o.render)(Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(w,{}),Object(j.jsx)(I,{})]}),document.getElementById("app"))},T=function(){k("navbar_view_profile"),Object(o.render)(Object(j.jsx)(b,{}),document.getElementById("app"))},N=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{id:"app-header",children:[Object(j.jsx)("h2",{children:" DoNation "}),Object(j.jsx)("h1",{children:" Tech Test "})]}),Object(j.jsxs)("div",{id:"app-navbar",children:[Object(j.jsx)("button",{id:"navbar_home",style:{color:"black",borderBottom:"1px solid black"},onClick:E,children:" Home "}),Object(j.jsx)("button",{id:"navbar_make_pledge",onClick:C,children:" Make Pledge "}),Object(j.jsx)("button",{id:"navbar_view_profile",onClick:T,children:" View Profile "})]})]})},S=(n(17),function(){return Object(j.jsx)("footer",{children:Object(j.jsxs)("p",{children:["by \xa0",Object(j.jsx)("a",{href:"https://github.com/EasterCompany",children:"Easter Company"}),"\xa0 for \xa0",Object(j.jsx)("a",{href:"https://www.wearedonation.com/",children:"DoNation"})]})})});l.a.render(Object(j.jsxs)(i.a.StrictMode,{children:[Object(j.jsx)(N,{}),Object(j.jsx)("div",{id:"app",children:Object(j.jsx)(h,{})}),Object(j.jsx)(S,{})]}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.79af8794.chunk.js.map