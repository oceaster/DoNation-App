{"version":3,"sources":["library/server.js","assets/icons/co2.svg","assets/icons/water.svg","assets/icons/waste.svg","apps/home/home.js","apps/profile/profile.js","components/commitButton.js","apps/pledges/energyPledge.js","apps/pledgeSelect/pledgeSelect.js","apps/pledges/dietPledge.js","apps/pledgeResult/pledgeResult.js","apps/header/header.js","apps/footer/footer.js","index.js"],"names":["serverAdr","window","location","href","startsWith","Home","className","alt","src","co2img","id","wtrimg","wstimg","fetch","then","res","json","data","document","getElementById","innerText","makePledge","content","co2","timestamp","fetchMyPledges","pledges","pledgesEl","obj","console","log","innerHTML","split","Profile","commitPledge","confirmInput","postInput","onClick","navbarSelectViewProfile","supplyEl","supply","options","selectedIndex","text","people","value","sourceEl","source","encodeURIComponent","calculateCO2","alert","onChange","defaultValue","disabled","type","placeholder","min","onBlur","addPledge","selection","myPledgesEl","render","pledgeType","pledgeName","thisValue","replace","PledgeSelect","style","width","pledgeResult","amount","display","color","Co2img","height","navbarButtons","navbarSelect","button","btn","navBtn","thisBtn","borderBottom","navbarSelectHome","navbarSelectMakePledge","Header","Footer","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.79af8794.chunk.js","sourcesContent":["\nconst getServerAdr = () => {\n    if (window.location.href.startsWith('http://localhost:')){\n        return 'http://localhost:8000/'\n    } else {\n        return window.location.href\n    }\n}\n\n\nconst serverAdr = getServerAdr()\n\nexport default serverAdr\n","export default __webpack_public_path__ + \"static/media/co2.51a3ac8e.svg\";","export default __webpack_public_path__ + \"static/media/water.b5058ba4.svg\";","export default __webpack_public_path__ + \"static/media/waste.fbcb3155.svg\";","import './home.css'\nimport serverAdr from '../../library/server.js'\nimport co2img from '../../assets/icons/co2.svg'\nimport wtrimg from '../../assets/icons/water.svg'\nimport wstimg from '../../assets/icons/waste.svg'\n\nconst total_co2_saved = () => {\n    fetch(`${serverAdr}api/total/co2`)\n    .then(res => {\n        res.json().then(data => {\n            const el = document.getElementById('co2-saved-total')\n            el.innerText = data['save_co2__sum'] + 'kg'\n        })\n    })\n}\n\nconst Home = () => {\n    return <div>\n        <div className='saved-total-section'>\n            <img alt='co2' src={co2img} /><h4> Total CO₂ Saved </h4>\n        </div>\n        <h2 id='co2-saved-total' className='saved-total'> -- </h2>\n        <div className='saved-total-section'>\n            <img alt='water' src={wtrimg} /><h4> Total Water Saved </h4>\n        </div>\n        <h2 className='saved-total'> -- </h2>\n        <div className='saved-total-section'>\n            <img alt='waste' src={wstimg} /><h4> Total Waste Saved </h4>\n        </div>\n        <h2 className='saved-total'> -- </h2>\n        {total_co2_saved()}\n    </div>\n}\n\nexport default Home\n","import './profile.css'\nimport serverAdr from '../../library/server.js'\n\nconst makePledge = (id, content, co2, timestamp) => {\n    return `<div\n        id=${id}\n        class='pledge-entry'\n    >\n        <p> ${content} </p>\n        <h4> Saving ${co2}kg of CO2 </h4>\n        <h6> ${timestamp} </h6>\n    </div>`\n}\n\nconst fetchMyPledges = () => {\n    fetch(`${serverAdr}api/fetch/0`)\n    .then(res => {\n        res.json().then(data => {\n            if ('data' in data) {\n                const pledges = data['data']\n                const pledgesEl = document.getElementById('my_pledges')\n                for (const obj in pledges) {\n                    console.log(pledges[obj])\n                    pledgesEl.innerHTML += makePledge(\n                        pledges[obj]['id'],\n                        pledges[obj]['pledge'],\n                        pledges[obj]['co2'],\n                        pledges[obj]['timestamp'].split('T')[0]\n                    )\n                }\n            }\n        })\n    })\n}\n\nconst Profile = () => {\n    return <div>\n        <div id='my_pledges'>\n            {fetchMyPledges()}\n        </div>\n    </div>\n}\n\nexport default Profile\nexport {\n    fetchMyPledges\n}\n","import './commitButton.css'\nimport { navbarSelectViewProfile } from '../apps/header/header.js'\nimport { fetchMyPledges } from '../apps/profile/profile.js'\n\nconst commitPledge = (confirmInput, postInput) => {\n    return <button\n        id='commit-button'\n        onClick={() => {\n            if (confirmInput()) {\n                postInput()\n                navbarSelectViewProfile()\n                fetchMyPledges()\n            }\n        }}\n    > Commit Pledge </button>\n}\n\nexport default commitPledge\n","import './pledges.css'\nimport serverAdr from '../../library/server.js'\nimport commitPledge from '../../components/commitButton.js'\n\nconst postInput = () => {\n    const supplyEl = document.getElementById('my-energy-supplier')\n    const supply = supplyEl.options[supplyEl.selectedIndex].text\n    const people = document.getElementById('people-in-house').value\n    const sourceEl = document.getElementById('my-heating-type')\n    const source = sourceEl.options[sourceEl.selectedIndex].text\n    const text = encodeURIComponent(\n`Within the next two months,\nI pledge to switch from my current energy supplier – which is ${supply} – to a green energy supplier.\n${people} people live in our home.\nMy house is mainly heated by ${source}.`\n    )\n    fetch(`${serverAdr}api/post/0/${text}/${calculateCO2()}`)\n}\n\nconst confirmInput = () => {\n    const supply = document.getElementById('my-energy-supplier').value\n    if (supply === 'none') {\n        alert('select your energy supplier')\n        return false\n    }\n    const people = document.getElementById('people-in-house').value\n    if (people === '') {\n        alert('input the number of people in your home')\n        return false\n    }\n    const source = document.getElementById('my-heating-type').value\n    if (source === 'none') {\n        alert('select your main source of heating')\n        return false\n    }\n    return true\n}\n\nconst onChange = () => {\n    document.getElementById('co2-saved').innerText = calculateCO2() + 'kg'\n}\n\nconst calculateCO2 = () => {\n    const supply = document.getElementById('my-energy-supplier').value\n    if (supply === 'none') {\n        return '--'\n    }\n    const people = document.getElementById('people-in-house').value\n    if (people === '') {\n        return '--'\n    }\n    const source = document.getElementById('my-heating-type').value\n    if (source === 'none') {\n        return '--'\n    }\n    const result = 49 * source * people * supply\n    return result\n}\n\nconst heatingSource = () => {\n    return <select\n            id='my-heating-type'\n            defaultValue='none'\n            onClick={onChange}\n        >\n        <option value='none' disabled> --- </option>\n        <option value='3'> Electric </option>\n        <option value='5'> Gas </option>\n        <option value='5'> Oil </option>\n    </select>\n}\n\nconst numberOfPeople = () => {\n    return <input\n        id='people-in-house'\n        type='number'\n        placeholder='4'\n        min='1'\n        onBlur={onChange}\n    />\n}\n\nconst energySupplier = () => {\n    return <select\n            id='my-energy-supplier'\n            defaultValue='none'\n            onClick={onChange}\n        >\n        <option value='none' disabled> --- </option>\n        <option value='0.5'> Bog Standard </option>\n        <option value='0'> Great Green </option>\n        <option value='1'> Other </option>\n    </select>\n}\n\nconst energyPledge = () => {\n    return <div id='pledge_energy'>\n        <p id='pledge_energy_text'>\n            Within the next two\n            months, I pledge to\n            switch from my\n            current energy\n            supplier\n            – which is\n            {energySupplier()}\n            – to\n            a green energy\n            supplier.\n            <br/><br/>\n            {numberOfPeople()}\n            people live in our\n            home.\n            <br/><br/>\n            My house is\n            mainly heated by\n            {heatingSource()}.\n        </p>\n        {commitPledge(confirmInput, postInput)}\n    </div>\n}\n\nexport default energyPledge\n","import './pledgeSelect.css'\nimport energyPledge from '../pledges/energyPledge.js'\nimport dietPledge from '../pledges/dietPledge.js'\nimport { render } from 'react-dom'\n\nconst pledges = {\n    'pledge_energy': energyPledge,\n    'pledge_diet': dietPledge\n}\n\nconst addPledge = () => {\n    const selection = document.getElementById('pledge-select')\n    const myPledgesEl = document.getElementById('my-pledges')\n    if (selection.value !== 'none')\n        render(pledges[selection.value](), myPledgesEl)\n}\n\nconst pledgeType = (pledgeName) => {\n    const thisValue = 'pledge_' + pledgeName.replace(/ /g, \"_\")\n    return <option value={thisValue}>\n        {pledgeName}\n    </option>\n}\n\nconst selectPledgeType = () => {\n    return <select\n        id='pledge-select'\n        style={{width:'100%'}}\n        onClick={addPledge}\n        defaultValue='none'\n    >\n        <option value='none' disabled> --- select --- </option>\n        {pledgeType('energy')}\n        {/* pledgeType('diet') */}\n    </select>\n}\n\nconst PledgeSelect = () => {\n    return <div id='pledge-section'>\n        <h2> Make Pledge </h2>\n        {selectPledgeType()}\n        <div id='my-pledges' />\n    </div>\n}\n\nexport default PledgeSelect\n","import './pledges.css'\n\nconst dietPledge = () => {\n    return <div id='pledge_diet'>\n        diet pledge\n    </div>\n}\n\nexport default dietPledge","import './pledgeResult.css'\nimport Co2img from '../../assets/icons/co2.svg'\n\nconst co2Result = (amount) => {\n    return <div style={{display:'flex'}}>\n        <h2 id='co2-saved' style={{color:'peru'}}>{amount}</h2>\n        <h3>&nbsp; of CO₂</h3>\n    </div>\n}\n\nconst pledgeResult = () => {\n    return <div id='pledge-results'>\n        <h2> Saves </h2>\n        <div id='pledge-saves'>\n            {co2Result('--kg')}\n        </div>\n        <h2> Impacts </h2>\n        <div id='pledge-impacts'>\n            <img alt='co2' src={Co2img} width='48px' height='48px' />\n        </div>\n    </div>\n}\n\nexport default pledgeResult\n","// REACT IMPORTS\nimport { render } from 'react-dom'\n\n// LOCAL APP IMPORTS\nimport './header.css'\nimport Home from '../home/home.js'\nimport Profile from '../profile/profile.js'\nimport PledgeSelect from '../pledgeSelect/pledgeSelect.js'\nimport PledgeResult from '../pledgeResult/pledgeResult.js'\n\nconst navbarButtons = [\n    'navbar_home',\n    'navbar_make_pledge',\n    'navbar_view_profile'\n]\n\nconst navbarSelect = (button) => {\n    const btn = document.getElementById(button)\n    for (const navBtn in navbarButtons) {\n        const thisBtn = document.getElementById(navbarButtons[navBtn])\n        thisBtn.style.color = 'darkgrey'\n        thisBtn.style.borderBottom = '1px solid lightgrey'\n    }\n    btn.style.color = 'black'\n    btn.style.borderBottom = '1px solid black'\n}\n\nconst navbarSelectHome = () => {\n    navbarSelect('navbar_home')\n    render(\n        <Home />,\n        document.getElementById('app')\n    )\n}\n\nconst navbarSelectMakePledge = () => {\n    navbarSelect('navbar_make_pledge')\n    render(\n        <>\n        <PledgeSelect />\n        <PledgeResult />\n        </>,\n        document.getElementById('app')\n    )\n}\n\nconst navbarSelectViewProfile = () => {\n    navbarSelect('navbar_view_profile')\n    render(\n        <Profile />,\n        document.getElementById('app')\n    )\n}\n\nconst Header = () => {\n    return <>\n    <div id='app-header'>\n        <h2> DoNation </h2>\n        <h1> Tech Test </h1>\n    </div>\n    <div id='app-navbar'>\n        <button\n            id='navbar_home'\n            style={{color:'black', borderBottom:'1px solid black'}}\n            onClick={navbarSelectHome}\n        > Home </button>\n        <button\n            id='navbar_make_pledge'\n            onClick={navbarSelectMakePledge}\n        > Make Pledge </button>\n        <button\n            id='navbar_view_profile'\n            onClick={navbarSelectViewProfile}\n        > View Profile </button>\n    </div>\n    </>\n}\n\nexport default Header\nexport {\n    navbarSelectViewProfile\n}\n","import './footer.css'\n\nconst Footer = () => {\n    return <footer>\n        <p>\n            by &nbsp;\n            <a href='https://github.com/EasterCompany'>\n                Easter Company\n            </a>\n            &nbsp; for &nbsp;\n            <a href='https://www.wearedonation.com/'>\n                DoNation\n            </a>\n        </p>\n    </footer>\n}\n\nexport default Footer\n","// REACT IMPORTS\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\n// LOCAL APP IMPORTS\nimport './index.css'\nimport Home from './apps/home/home.js'\nimport Header from './apps/header/header.js'\nimport Footer from './apps/footer/footer.js'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Header />\n    <div id='app'>\n      <Home />\n    </div>\n    <Footer />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}